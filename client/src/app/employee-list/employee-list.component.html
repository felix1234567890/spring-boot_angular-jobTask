<table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
  <ng-container matColumnDef="profilePicture">
    <th mat-header-cell *matHeaderCellDef>Profile picture</th>
    <td mat-cell *matCellDef="let employee">
      <img
        [src]="employee.profilePicture || 'https://via.placeholder.com/80'"
        alt=""
        style="padding: 5px;"
        width="80"
        height="80"
      />
    </td>
  </ng-container>
  <ng-container matColumnDef="firstName">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>First Name</th>
    <td mat-cell *matCellDef="let employee">{{ employee.firstName }}</td>
  </ng-container>
  <ng-container matColumnDef="lastName">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Last Name</th>
    <td mat-cell *matCellDef="let employee">{{ employee.lastName }}</td>
  </ng-container>
  <ng-container matColumnDef="email">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
    <td mat-cell *matCellDef="let employee">{{ employee.email }}</td>
  </ng-container>
  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Actions</th>
    <td mat-cell *matCellDef="let employee">
      <button
        mat-raised-button
        color="primary"
        (click)="updateEmployee(employee)"
      >
        Edit
      </button>
      <button
        mat-raised-button
        color="warn"
        (click)="deleteEmployee(employee.id)"
      >
        Delete
      </button>

      <button
        *ngIf="!employee.profilePicture"
        type="button"
        mat-raised-button
        color="accent"
        (click)="fileInput.click()"
      >
        Choose File
      </button>
      <input
        hidden
        (change)="changeProfilePicture(employee.id, $event)"
        #fileInput
        type="file"
        id="file"
      />
      <button
        mat-raised-button
        (click)="goToTimesheets(employee.id)"
        color="purple"
      >
        View timesheets
      </button>
      <button mat-raised-button (click)="goToLog(employee.id)" color="success">
        Log time
      </button>
    </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>
